@page "{id:int?}"
@model Lojistik.Pages.Sevkiyatlar.DeleteModel
@{
    ViewData["Title"] = "Sevkiyat Sil";
    var s = Model.Data;
}

<h2 class="mb-3">Sevkiyat Sil</h2>

@if (TempData["DelError"] is string err)
{
    <div class="alert alert-danger"><pre class="mb-0">@err</pre></div>
}
@if (TempData["DelDiag"] is string diag)
{
    <div class="alert alert-info"><pre class="mb-0">@diag</pre></div>
}

@if (s is null)
{
    <div class="alert alert-danger">Kayıt bulunamadı.</div>
}
else
{
    <div class="alert alert-warning">
        Bu sevkiyatı silmek istediğinize emin misiniz? Bu işlem geri alınamaz.
    </div>

    <div class="card mb-3">
        <div class="card-header fw-semibold">Özet</div>
        <div class="card-body">
            <dl class="row mb-0">
                <dt class="col-sm-3">Sevkiyat ID</dt>
                <dd class="col-sm-9">@s.SevkiyatID</dd>

                <dt class="col-sm-3">Sipariş ID</dt>
                <dd class="col-sm-9">@s.SiparisID</dd>

                <dt class="col-sm-3">Çekici</dt>
                <dd class="col-sm-9">@(!string.IsNullOrWhiteSpace(s.CekiciPlaka) ? s.CekiciPlaka : "—")</dd>

                <dt class="col-sm-3">Dorse</dt>
                <dd class="col-sm-9">@(!string.IsNullOrWhiteSpace(s.DorsePlaka) ? s.DorsePlaka : "—")</dd>

                <dt class="col-sm-3">Yükleme</dt>
                <dd class="col-sm-9">@s.YuklemeTarihi?.ToString("dd.MM.yyyy HH:mm")</dd>

                <dt class="col-sm-3">Varış</dt>
                <dd class="col-sm-9">@s.VarisTarihi?.ToString("dd.MM.yyyy HH:mm")</dd>

                <dt class="col-sm-3">Durum</dt>
                <dd class="col-sm-9"><span class="badge bg-secondary">@s.Durum</span></dd>
            </dl>
        </div>
    </div>

    <form method="post" class="d-flex gap-2">
        @Html.AntiForgeryToken()
        <input type="hidden" name="id" value="@s.SevkiyatID" />
        <input type="hidden" name="siparisId" value="@s.SiparisID" />

        <button type="submit" class="btn btn-danger">Sil</button>
        <a asp-page="/Siparisler/Details" asp-route-id="@s.SiparisID" class="btn btn-outline-secondary">Vazgeç</a>
    </form>
}

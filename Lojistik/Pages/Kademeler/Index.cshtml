@page
@model Lojistik.Pages.Kademeler.IndexModel
@{
    ViewData["Title"] = "Kademeler";
}

<h2>Kademeler</h2>

@if (Model.AracID.HasValue)
{
    <div class="mb-2">
        <strong>Araç:</strong> @Model.Plaka 
        <a class="btn btn-success btn-sm ms-2"
           asp-page="Create"
           asp-route-aracId="@Model.AracID"
           asp-route-plaka="@Model.Plaka">Yeni Kademe</a>
        <a class="btn btn-secondary btn-sm ms-1"
           asp-page="/Araclar/Details"
           asp-route-id="@Model.AracID">Araca Dön</a>
    </div>
}
else
{
    <div class="mb-2">
        <a class="btn btn-success btn-sm" asp-page="Create">Yeni Kayıt</a>
    </div>
}

<table class="table table-striped table-sm">
    <thead>
        <tr>
            <th>Tarih</th>
            <th>Araç</th>
            <th>Yapılan İşlem</th>
            <th>Tutar</th>
            <th>Para Birimi</th>
            <th style="width:140px;">İşlemler</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.Kademeler)
        {
            <tr>
                <td>@item.Tarih.ToString("dd-MM-yyyy")</td>
                <td>@item.Arac?.Plaka</td>
                <td>@item.YapilanIslem</td>
                <td>@item.Tutar.ToString("N2")</td>
                <td>@item.ParaBirimi</td>
                <td class="text-end text-nowrap">
                    @* tek satır *@
                    <div class="btn-group btn-group-sm">
                        @* yan yana, aralıksız *@
                        <a class="btn btn-primary" asp-page="Edit" asp-route-id="@item.KademeID">Düzenle</a>
                        <a class="btn btn-info" asp-page="Details" asp-route-id="@item.KademeID">Detay</a>
                        <a class="btn btn-danger" asp-page="Delete" asp-route-id="@item.KademeID">Sil</a>
                    </div>
                </td>
            </tr>
        }
    </tbody>
</table>
